
#include "main.h"
#include "cavedata.h"
#include "attribute.h"
#include "charRuntime.h"

#define LINE 0b01000000
#define FILLRECT 0b10000000
#define RECT 0b11000000

/*#define DIRT 1
#define DOGE 0x14
#define WALL 2
#define STEEL 7
#define BOULDER 0x10
#define INBOX 0x25
#define OUTBOX 4
#define AMOEBA 0x3A
*/

//#define UP 0
//#define UPRIGHT 1
#define RIGHT 2
//#define DOWNRIGHT 3
#define DOWN 4
//#define DOWNLEFT 5
#define LEFT 6
//#define UPLEFT 7


// UBYTE cave1[]= {

// #define SHIFTY_1 -2

// /*
// 0x01,0x14,0x0A,0x0F,0x0A,0x0B,0x0C,0x0D,0x0E,0x0C,0x0C,0x0C,0x0C,0x0C,0x96,0x6E,
// 0x46,0x28,0x1E,0x08,0x0B,0x09,0xD4,0x20,0x00,0x14,0x10,0x00,0x3C,0x32,0x09,0x00,
// 0x42,0x01,0x09,0x1E,0x02,0x42,0x09,0x10,0x1E,0x02,0x25,0x03,0x04,0x04,0x26,0x12,
// 0xFF,
// 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff
// */

// 0x01,       // cave
// 0x14,       // milling
// 0x0A,0x0F,  // diamond $

// 0x0A,0x0B,0x0C,0x0D,0x0E,       // randomiser[level]
// 0x0C,0x0C,0x0C,0x0C,0x0C,
// 0x96,0x6E,0x46,0x28,0x1E,

// 0,0,DEF_PARALLAX, //15,0x09,

// CH_STEEL,CH_DIRT,


// CH_DOGE,CH_BLANK,CH_ROCK0,CH_EGG,
// 0x68, 0x60,0x10,0x2,

// //0x42,0x01,0x09+SHIFTY_1,0x1E,0x02,
// //0x42,0x09,0x10+SHIFTY_1,0x1E,0x02,

// 0,CH_DOORCLOSED,0x03,0x04+SHIFTY_1,     // entry
// 0,CH_DOOROPEN_0,0x26,0x12+SHIFTY_1,     // exit

// 0,CH_EGG, 0x20, 0x10 + SHIFTY_1,

// LINE,CH_ZZAP, 30,13+SHIFTY_1,6, DOWN,

// LINE,CH_BRICKWALL, 20,10+SHIFTY_1,4, DOWN,
// LINE,CH_BRICKWALL, 21,10+SHIFTY_1,4, DOWN,



// // LINE+CH_ZZAP,30,13+SHIFTY_1,6,DOWN,
// // LINE+0x32,30,3+SHIFTY_1,4,DOWN,

// // LINE+0,5,10+SHIFTY_1,7,DOWN,
// // LINE+0x32,5,10+SHIFTY_1,4,DOWN,


// // LINE+0,30,17+SHIFTY_1,5,DOWN,
// // LINE+0x32,30,17+SHIFTY_1,4,DOWN,



// 0xFF,

//  };


// UBYTE cave12[]= {

// #define SHIFTY_12 -2


// /*
// 0x01,0x14,0x0A,0x0F,0x0A,0x0B,0x0C,0x0D,0x0E,0x0C,0x0C,0x0C,0x0C,0x0C,0x96,0x6E,
// 0x46,0x28,0x1E,0x08,0x0B,0x09,0xD4,0x20,0x00,0x14,0x10,0x00,0x3C,0x32,0x09,0x00,
// 0x42,0x01,0x09,0x1E,0x02,0x42,0x09,0x10,0x1E,0x02,0x25,0x03,0x04,0x04,0x26,0x12,
// 0xFF,
// 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff
// */

// 0x01,       // cave
// 0x14,       // milling
// 0x0A,0x0F,  // diamond $

// 0x0A,0x0B,0x0C,0x0D,0x0E,       // randomiser[level]
// 0x0C,0x0C,0x0C,0x0C,0x0C,
// 0x96,0x6E,0x46,0x28,0x1E,

// 0,23,DEF_PARALLAX, //15,0x09,

// CH_STEEL,CH_DIRT,


// CH_DOGE,CH_BLANK,CH_ROCK0,CH_EGG,
// 0x68, 0x60,0x60,0x2,

// //0x42,0x01,0x09+SHIFTY_1,0x1E,0x02,
// //0x42,0x09,0x10+SHIFTY_1,0x1E,0x02,

// 0,CH_DOORCLOSED,0x03,0x04+SHIFTY_12,     // entry
// 0,CH_DOOROPEN_0,0x26,0x12+SHIFTY_12,     // exit

// 0,CH_EGG, 0x20, 0x10 + SHIFTY_12,

// LINE, CH_BELT, 2, 20+SHIFTY_12, 15, RIGHT,
// LINE, CH_BELT1, 2, 18+SHIFTY_12, 5, RIGHT,

// LINE,CH_ZZAP, 20,2+SHIFTY_12,20, DOWN,
// LINE,CH_ZZAP1, 21,2+SHIFTY_12,20, DOWN,

// //LINE,CH_DRILL, 18,2+SHIFTY_1,20, DOWN,

// 0, CH_DRILLBODY, 10, 12,
// 0, CH_DRILLBODY1, 10, 11,



// 0xFF,

// };


UBYTE cave12b[]= {
#define CAVE12b_DEPTH 22


0x01,       // cave

40,CAVE12b_DEPTH,1,      // size x,y + gravity

0x14,       // milling
0x0A,0x0F,  // diamond $

0x0A,0x0B,0x0C,0x0D,0x0E,       // randomiser[level]
0x0C,0x0C,0x0C,0x0C,0x0C,
0x96,0x6E,0x46,0x28,0x1E,

0,0,DEF_PARALLAX|DEF_DRIP, //15,0x09,

CH_STEEL,CH_DIRT,


CH_DIRT,CH_DOGE,CH_ROCK0,CH_EGG,
0xB0, 0x8, 0x60,0xA,

0,CH_DOORCLOSED,0x03,0x04,     // entry
LINE,CH_ZZAP, 20,2,19, DOWN,
LINE,CH_ZZAP1, 21,2,19, DOWN,


0, CH_DRILLBODY, 6, 10,
0, CH_DRILLBODY1, 6, 9,


0xFF,

};


static const unsigned char planet0[]= {
#define PLANET0_DEPTH 8

0x01,       // cave

20,PLANET0_DEPTH,0,      // size, gravity

0x14,       // milling
0x0A,0x0F,  // diamond $

0x0A,0x0B,0x0C,0x0D,0x0E,       // randomiser[level]
0x0C,0x0C,0x0C,0x0C,0x0C,
0x96,0x6E,0x46,0x28,0x1E,

0,0,0, //15,0x09,

0,CH_AMOEBA0,


CH_ROCK0,CH_DIRT,0,0,
130, 40, 0, 0,

LINE, CH_STEEL, 0,0, 20, RIGHT,
LINE, CH_STEEL, 0,7, 20, RIGHT,


0,CH_DOORCLOSED,0x03,0x04,     // entry

0xFF,

};


static const unsigned char moon0[]= {
#define MOON0_DEPTH 30

0x01,       // cave

20,MOON0_DEPTH,0,      // size, gravity

0x14,       // milling
0x0A,0x0F,  // diamond $

0x0A,0x0B,0x0C,0x0D,0x0E,       // randomiser[level]
0x0C,0x0C,0x0C,0x0C,0x0C,
0x96,0x6E,0x46,0x28,0x1E,

0,0,0, //15,0x09,

0,CH_FLAT_1,


CH_CRATER_SMALL,CH_CRATER_TINY,CH_CRATER_BIG,CH_CRATER_MID,
30, 20, 10, 10,

0,CH_DOORCLOSED,0x03,0x04,     // entry

0xFF,

};


const unsigned char moon0BGColours[MOON0_DEPTH] = {

    0x02,   // 00
    0x02,   // 01
    0x02,   // 02
    0x02,   // 03
    0x02,   // 04
    0x02,   // 05
    0x02,   // 06
    0x02,   // 07
    0x02,   // 08
    0x02,   // 09
    0x02,   // 10
    0x02,   // 11
    0x02,   // 12
    0x02,   // 13
    0x02,   // 14
    0x02,   // 15
    0x02,   // 16
    0x02,   // 17
    0x02,   // 18
    0x02,   // 19
    0x02,   // 20
    0x02,   // 21
    0x02,   // 22
    0x02,   // 23
    0x02,   // 24
    0x02,   // 25
    0x02,   // 26
    0x02,   // 27
    0x02,   // 28
    0x02,   // 29
};

const unsigned char planet0BGColours[PLANET0_DEPTH] = {
    0x24,   // 00
    0x24,   // 01
    0x24,   // 02
    0x24,   // 03
    0x24,   // 04
    0x24,   // 05
    0x24,   // 06
    0x24,   // 07
    0x24,   // 08
    0x24,   // 09
};

const unsigned char cave12bBGColours[CAVE12b_DEPTH] = {

    0x74,   // 00
    0x74,   // 01
    0x74,   // 02
    0x74,   // 03
    0x86,   // 04
    0x86,   // 05
    0x86,   // 06
    0x94,   // 07
    0x94,   // 08
    0x94,   // 09
    0xA4,   // 10
    0xA4,   // 11
    0xA4,   // 12
    0xB4,   // 13
    0xB4,   // 14
    0xB4,   // 15
    0xC4,   // 16
    0xC4,   // 17
    0xC4,   // 18
    0xD4,   // 19
    0xD4,   // 20
    0xD4,   // 21
};

const struct caveInfo caveList[] = {
    { moon0,            { 0x02, 0x04, 0x06, },  moon0BGColours, },
    { planet0,          { 0x86, 0xD6, 0x86, },  planet0BGColours, },
    { cave12b,          { 0x86, 0x24, 0xC8, },  cave12bBGColours, },
};

const int caveCount = sizeof(caveList) / sizeof(caveList[0]);






